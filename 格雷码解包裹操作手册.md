# 结构光三维重建参考手册

欢迎使用本套结构光三维重建工具。本手册旨在阐明一个核心且容易混淆的概念：**投影条纹的方向**与**解包裹相位方向**之间的关系。

---

## 核心问题：为什么条纹方向和解包裹方向是垂直的？

简单来说：**我们用"垂直的尺子"去量"水平的长度"，用"水平的尺子"去量"垂直的高度"。**

在结构光技术中，投影的条纹就是我们用来测量物体形状的"数字尺子"。

### 1. 解水平包裹相位（测量物体水平方向的形状）

* **目标**：我们想知道物体表面从左到右（即沿 **X轴**）的形状轮廓是如何变化的。
* **方法**：为了测量水平方向上的变化，我们投射的"尺子"必须在水平方向上具有刻度。什么样的条纹能在水平方向上形成刻度呢？答案是**垂直条纹**。
* **类比**：
  * 想象一道**栅栏**，栅栏的木条是**垂直**的。
  * 当您**水平**地沿着栅栏走，您会依次经过"木条-空隙-木条-空隙..."，这种变化为您提供了水平方向上的位置信息。
  * 同理，当**垂直的条纹光**投射到物体上时，正是这些条纹的左右扭曲，才揭示了物体在**水平方向**上的深度信息。

**结论**：因此，我们使用 **垂直条纹 (Vertical Fringes)** 来进行 **水平方向的解包裹 (Horizontal Unwrapping)**。

> **对应文件**:
>
> * 相移图像: `I1.png` 到 `IN.png`
> * 格雷码图像: 包含**垂直条纹**的格雷码图

---

### 2. 解垂直包裹相位（测量物体垂直方向的形状）

* **目标**：我们想知道物体表面从上到下（即沿 **Y轴**）的形状轮廓是如何变化的。
* **方法**：与上面同理，我们需要一把能在垂直方向上提供刻度的"尺子"。这个"尺子"就是**水平条纹**。
* **类比**：
* 想象一个**梯子**，梯子的横杆是**水平**的。
* 当您**垂直**地向上爬梯子时，您会依次经过"横杆-空隙-横杆-空隙..."，这种变化为您提供了垂直方向上的位置信息。
* 同理，当**水平的条纹光**投射到物体上时，正是这些条纹的上下扭曲，才揭示了物体在**垂直方向**上的深度信息。

**结论**：因此，我们使用 **水平条纹 (Horizontal Fringes)** 来进行 **垂直方向的解包裹 (Vertical Unwrapping)**。

> **对应文件**:
>
> * 相移图像: `I(N+1).png` 到 `I(2N).png`
> * 格雷码图像: 包含**水平条纹**的格雷码图

---

## 快速参考表

| 您想做什么？ | 您需要投影什么方向的条纹？ | 对应哪组相移图像？ | 对应哪种格雷码？ |
| :--- | :--- | :--- | :--- |
| **解水平包裹相位** | ✅ **垂直**条纹 | `I1` 到 `IN` | **垂直**格雷码 |
| **解垂直包裹相位** | ✅ **水平**条纹 | `I(N+1)` 到 `I(2N)` | **水平**格雷码 |

## 关于格雷码

格雷码的作用是为相移法计算出的包裹相位提供一个绝对的"基准线"，以解决相位模糊的问题。因此，格雷码图案的方向必须与其辅助的相移条纹方向**保持一致**。

* 用**垂直**的格雷码图案，来辅助**垂直**的相移条纹，共同完成**水平**方向的解包裹。
* 用**水平**的格雷码图案，来辅助**水平**的相移条纹，共同完成**垂直**方向的解包裹。

希望这份手册能帮助您更好地理解和使用本工具。
